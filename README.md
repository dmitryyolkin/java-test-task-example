# Окружение

Проект реализован с помощью:
* open JDK 11 (from [amazon-corretto](https://docs.aws.amazon.com/corretto/latest/corretto-11-ug/downloads-list.html))
* Maven (3.5.3)
* JUnit 5.7.1

# Описание задачи

В магазине есть 4 кассы. Очередь к каждой не может превышать 20 человек.
* На 1 кассе работает стажер и он способен обслужить только 10 покупателей в час.
* На 2 кассе, специалист со скоростью 13 покупателей в час.
* На 3 - 15 покупателей в час.
* На 4 - 17.

Необходимо реализовать конечный автомат, который принимает на вход символы:
* A = один покупатель идет на кассу и ему необходимо указать в очередь к какой из касс встать.
* 1 = один покупатель покидает очередь 1 кассы.
* 2 = покидает очередь 2 кассы.
* 3 = 3 кассы.
* 4 = 4 кассы.

На выходе КА должен выдать номер кассы, в очередь к которой необходимо встать покупателю так, чтобы проведенное им время в очереди было минимальным.

Пример работы:
input: ААААА
ouput: 43214

# Описание решения
* Основной метод, реализующий логику КА - `CashboxDispatcher` 
  * При создании ему на вход передается список доступных касс `Cashbox`. 
    * У каждой кассы есть два параметра: номер и время обработки одного посетителя (в секундах)
    * Список касс может быть получен с помощь метода `CashboxFactory.produce()`
      * для тестовых целей можно использовать, как фиксированную пропускную способность из задания, так и произвольную для каждой кассы 
  * За деспетчеризацию пользователей отвечает метод `CashboxDispatcher.dispatch(long time)`.
    * На вход он получает время (в секундах), когда приходит очередной посетитель. Мне показалось лишним передавать конкретный символ, так как всегда передается фиксированный символ = `А`. Гораздо важнее время, когда он пришел 
    * В постановке задачи не было сказано с какой интенсивностью пользователи приходят в магазин. Это важный параметр, 
      так как от интенсивности и пропускной способности каждой кассы зависит, где именно будет обслужен конкретный пользователь.
      * Поэтому был введен интерфейс `UserFlowGenerator`, который генерит массив точек, когда приходят пользователи
      * Также было сделано две тестовых реализации:
        * `EvenUserFlowGenerator` - пример равномерного распределения пользователей на интервале времени
        * `FixedUserFlowGenerator` - пример, когда мы можем задать конкретное временные точки, когда приходят пользователи
* Для тестирования был создан класс `CashboxDispatcherUTest`, который проходит по основным тест кейсам
* Запустить и проверить тесты можно, выполнив в терминале команду `mvn clean test`